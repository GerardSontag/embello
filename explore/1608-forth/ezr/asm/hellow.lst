# File hellow.asm
0000				org $0080 
0080			 
0080			pd_alt2:    equ $A5 
0080			uart0_thr:  equ $C0 
0080			uart0_rbr:  equ $C0 
0080			uart0_brgl: equ $C0 
0080			uart0_fctl: equ $C2 
0080			uart0_lctl: equ $C3 
0080			uart0_lsr:  equ $C5 
0080			 
0080 06 00		init:	ld  b, 0 
0082			 
0082 0e a5			ld  c, pd_alt2 
0084 3e 03			ld  a, $03 
0086 ed 79			out (c), a 
0088			 
0088 0e c3			ld  c, uart0_lctl 
008a 3e 80			ld  a, $80 
008c ed 79			out (c), a 
008e			 
008e 0e c0			ld  c, uart0_brgl 
0090 3e 1a			ld  a, $1A 
0092 ed 79			out (c), a 
0094			 
0094 0e c3			ld  c, uart0_lctl 
0096 3e 03			ld  a, $03 
0098 ed 79			out (c), a 
009a			 
009a 0e c2			ld  c, uart0_fctl 
009c 3e 06			ld  a, $06 
009e ed 79			out (c), a 
00a0			 
00a0 21 b9 00		print:	ld  hl, msg 
00a3 7e			prloop:	ld  a, (hl) 
00a4 a7				and a 
00a5 28 10			jr  z, done 
00a7 0e c5		prwait:	ld  c, uart0_lsr 
00a9 ed 78			in  a, (c) 
00ab e6 20			and $20 
00ad 28 f8			jr  z, prwait 
00af 0e c0		prout:	ld  c, uart0_thr 
00b1 7e				ld  a, (hl) 
00b2 ed 79			out (c), a 
00b4 23				inc hl 
00b5 18 ec			jr  prloop 
00b7			 
00b7 18 fe		done:	jr  done 
00b9			 
00b9 .. 0a 0d 00	msg:	dm  "Hello World!", 10, 13, 0 
00c8			 
00c8				end 
# End of file hellow.asm
00c8
